-content_for(:title) {'メニュー一覧'}
.container
    .columns
        .column.is-3.is-hidden-mobile
            =render 'shop/sidebar'
        .column.is-8.main-content
            .columns
                .column.is-10-desktop.is-offset-1-desktop.is-12-tablet.is-offset-0-tablet
                    -# メニュー一覧
                    %h2.text-large.has-left-margin
                        %i.fas.fa-clipboard-list
                        メニュー一覧
                    .box.has-middle-margin
                        - if @menus.any?
                            .columns.is-mobile.has-under-line
                                .column.is-3.text-small
                                    カラー
                                .column.is-4.text-small
                                    メニュー名
                            -@menus.each do |menu|
                                .columns.is-mobile.is-vcentered.has-under-line
                                    .column.is-3
                                        .ball{style:"background-color:#{menu.color}"}
                                    .column.is-4
                                        =menu.menu_name
                                    .column.is-5.text-right
                                        = link_to qrcode_shop_menu_path(menu,format: :pdf), target: :_blank, class:'button is-small is-rounded' do
                                            %i.fas.fa-qrcode
                                            QR
                                        = link_to shop_menu_path(menu), class:'button is-info is-small is-rounded strong' do
                                            %i.fas.fa-search
                                            詳細
                                        = link_to shop_menu_path(menu),method: :delete,class:'button is-danger is-small is-rounded strong' do
                                            %i.fas.fa-trash
                                            削除
                        - else
                            .text-center
                                メニューはありません。

                    -# メニュー新規作成
                    %h2.text-large.has-large-margin.has-left-margin
                        %i.far.fa-paper-plane
                        メニュー新規作成
                    .box.has-middle-margin
                        -if current_shop.categories.any?
                            = form_with model: @menu, url: { :controller=>'shop/menus', :action=>'create'},local: true do |f|
                                = render 'layouts/error-message', model: f.object
                                .field
                                    = f.label :menu_name,'メニュー名',class:'label'
                                    .control
                                        = f.text_field :menu_name, class:'input is-link',placeholder:'メニュー名・8文字以内'
                                .field
                                    %span.label メニューカラー
                                    %p.text-small メニューのテーマカラーを選択して下さい。
                                    = render 'layouts/select-colors', f: f
                                .field
                                    .control.text-center
                                        = f.submit 'メニュー作成', class:'button is-link'
                        -else
                            .text-center
                                %p 作成には先にカテゴリの登録が必要です。
                                = link_to shop_categories_path, class:'button is-success' do
                                    %i.fas.fa-plus-circle
                                    カテゴリを登録